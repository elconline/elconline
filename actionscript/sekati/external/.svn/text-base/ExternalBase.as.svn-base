/** * sekati.external.JsBase * @version 1.0.0 * @author jason m horwitz | sekati.com * Copyright (C) 2008 jason m horwitz, Sekat LLC. All Rights Reserved. * Released under the MIT License: http://www.opensource.org/licenses/mit-license.php */package sekati.external {	import flash.external.ExternalInterface;	import flash.net.URLRequest;	import flash.net.navigateToURL;	import flash.system.Capabilities;		import sekati.validators.FlashValidator;			/**	 * Javascript Utilities	 */	public class ExternalBase {		/**		 * Check if a javascript external asset is installed (and that <code>ExternalInterface</code> is available & the swf is running in browser)		 * @param jsObj 	the javascript object or method to check for.		 * @return 			<code>true</code> if asset is available for use, <code>false</code> if not.		 */		public static function isExternal(jsObj : String) : Boolean {			if(ExternalInterface.available && FlashValidator.isBrowser) {				var installed : Boolean = ExternalInterface.call( "function(){ return typeof " + jsObj + " != 'undefined' }" );				return installed;			} else { 				return false;				}		}		/**		 * Javascript alert.		 */		public static function alert(msg : String) : void {			ExternalInterface.call( 'alert', msg );		}		/**		 * Javascript resize window.		 */		public static function resizeWindow(w : Number, h : Number) : void {			navigateToURL( new URLRequest( "javascript:top.resizeTo(" + w + "," + h + ")" ) );		}		/**		 * Javascript shake window.		 */		public static function shakeWindow(amount : Number) : void {			navigateToURL( new URLRequest( "javascript:function shakewin(n){if(parent.moveBy){for(i = 10;i > 0;i--){for(j = n;j > 0;j--){parent.moveBy(0,i);parent.moveBy(i,0);parent.moveBy(0,-i);parent.moveBy(-i,0);}}}};shakewin(" + amount + ");void(0)" ) );		}		/**		 * Javascript change status message.		 */		public static function status(msg : String) : void {			navigateToURL( new URLRequest( "javascript:if(typeof(this.href) != 'undefined') window.status = '" + msg + "' + ' URL: ' + this.href;else return false;void(0)" ) );		}		/**		 * Javascript pop centered window.		 */		public static function centerPop(wURL : String, wName : String, w : Number, h : Number, scr : Boolean) : void {			var cx : Number = Math.round( (Capabilities.screenResolutionX / 2) - (w / 2) );			var cy : Number = Math.round( (Capabilities.screenResolutionY / 2) - (h / 2) );			navigateToURL( new URLRequest( "javascript:NewWindow=window.open('" + wURL + "','" + wName + "','width=" + w + ",height=" + h + ",left=" + cx + ",top=" + cy + ",screenX=" + cx + ",screenY=" + cy + ",toolbar=no,location=no,scrolling=" + scr + ",directories=no,scrollbars=" + scr + ",status=no,statusbar=no,resizable=no,fullscreen=no'); NewWindow.focus(); void(0);" ) );		}		/**		 * JsBase Static Constructor		 */		public function ExternalBase() {			throw new Error( "JsBase is a static class and cannot be instantiated." );		}			}}