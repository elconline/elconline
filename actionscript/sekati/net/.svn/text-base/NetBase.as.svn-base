/** * sekati.net.NetBase * @version 1.0.2 * @author jason m horwitz | sekati.com * Copyright (C) 2008 jason m horwitz, Sekat LLC. All Rights Reserved. * Released under the MIT License: http://www.opensource.org/licenses/mit-license.php */package sekati.net {	import flash.display.LoaderInfo;	import flash.external.ExternalInterface;	import flash.net.URLRequest;	import flash.net.navigateToURL;	import sekati.display.Canvas;	import sekati.validators.StringValidator;			/**	 * Static class wrapping various Network utilities.	 */	public class NetBase {		/**		 * return the URL Path swf is running under		 * @return String		 * @example <listing version="3.0">		 * 	// run from http://localhost/myProject/site.swf		 * 	trace(NetBase.getPath()); // returns "http://localhost/myProject/"		 * 	</listing>		 */		public static function getPath() : String {			var _url : String = Canvas.root.loaderInfo.loaderURL;			return( _url.substr( 0, _url.lastIndexOf( '/' ) + 1 ) );		}		/**		 * A retro <code>getURL</code> wrapper for AS3.		 * @param url 		The URL to navigate to.		 * @param window 	The window to open the URL in.		 */		public static function getURL(url : String, window : String = "_self") : void {			navigateToURL( new URLRequest( url ), window );		}		/**		 * check if we are online the swf is being executed over http.		 * @return Boolean		 */		public static function isOnline() : Boolean {			var _url : String = Canvas.root.loaderInfo.loaderURL;			return StringValidator.isURL( _url );		}		/**		 * Add a cache killing querystring to url		 * @param url (String)		 * @return String		 * @example <listing version="3.0">		 * var ckUrl = NetBase.noCacheUrl( "http://localhost/page.html" ); // returns: http://localhost/page.html?030533		 * 	</listing>		 */		public static function noCacheUrl(url : String) : String {			return url + "?" + new Date( ).getTime( );			}		/**		 * Get the browser href location.		 */		public static function getLocation() : String {			return ExternalInterface.call( 'function(){return location.href}' );			}		/**		 * NetBase Static Constructor		 */		public function NetBase() {			throw new Error( "NetBase is a static class and cannot be instantiated." );		}	}}